:root{
  /* accent color */
  --shy-color: #3584E4;
  
  --tr-col: rgba(66, 65, 77, 0.4);
  --tr-hov-col: rgba(86, 85, 97, 0.4);
  --tr-dark-col: rgba(36, 35, 47, 0.4);

  --rounding: 11.5px;
  --big-rounding: 15px;
  --giant-rounding: 30px;

  --blur-radius: 10px;
}

@-moz-document url("about:home"),url("about:newtab") {
  
  :root{
    --newtab-primary-action-background: var(--shy-color) !important;
    --newtab-primary-action-background-pocket: var(--shy-color) !important;
  }
  
  /* sites shortcuts */
  .top-site-button{
    background-color: var(--newtab-background-color-secondary);
    border-radius: var(--rounding) !important;
    overflow: clip;
  }
  
  .tile, .top-site-icon{
    background-color: transparent !important;
    box-shadow: none !important;
  }
  
  .top-site-button{
    background-color: var(--tr-col) !important;
    backdrop-filter: blur(var(--blur-radius));
  }
    
  .title {
    background-color: var(--newtab-background-color-secondary);
    & > span {
      padding-left: 8px;
      padding-right: 8px;
    }
  }
  
  .top-site-outer:is(.active, :focus, :hover)
  {background: rgba(150, 150, 170, 0.3) !important;}
  
  .top-site-outer, .top-site-inner {
    & > a {padding: 0px 0px 0px !important;}
    padding: 5px;
    border-radius: var(--big-rounding) !important;
  }
  
  .context-menu{
    border-radius: var(--big-rounding) !important;
    button {border-radius: var(--rounding) !important;}
  }
  
  .top-site-outer:not(:hover) .icon-pin-small{display: none !important;}
  
  /* searchbar */
  .search-handoff-button {
    border-radius: 100px !important;
    background-color: var(--tr-dark-col) !important;
    backdrop-filter: blur(var(--blur-radius));
  }
  
  .search-wrapper.fake-focus:not(.search.disabled) .search-handoff-button {
    border: 1px solid var(--shy-color) !important;
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--shy-color) 20%, transparent) !important;
  }
  
  @media (height > 700px) {
    body:not(.inline-onboarding) .fixed-search .search-wrapper {
      background-color: var(--tr-dark-col) !important;
      backdrop-filter: blur(var(--blur-radius));
    }
    .logo-and-wordmark {
      display: flex !important;
    }
  }
  
  /* wallpaper */
  body{
    background-image: url("./wallpaper.png") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: cover !important;
    background-attachment: fixed !important;
  }
  
  /* central box background */
  main{
    margin-top: 15% !important;
    height: 50%;
    /* background-color: rgba(43, 42, 51, 0.3); */
    background-color: rgba(130, 130, 130, 0.3);
    border-radius: var(--giant-rounding);
  }
  
  /* settings */
  .icon-settings{
    border-radius: var(--big-rounding) !important;
    &:hover{background-color: var(--tr-hov-col) !important;}
  }
  
  .customize-menu{
    background-color: var(--tr-col) !important;
    backdrop-filter: blur(var(--blur-radius));
  }
  
  .toggle-button[aria-pressed="true"] {
    background: var(--shy-color) !important;
    border-color: transparent;
  }
  
  .home-section .section .sponsored-checkbox:checked {
    background-color: var(--shy-color) !important;
  }
  
  .close-button{
    border-radius: var(--rounding) !important;
  }
  
  .home-section .section .selector{
    border-radius: var(--rounding) !important;
    background-color: var(--tr-col) !important;
    &:hover{background-color: var(--tr-hov-col) !important;}
  }
}

@-moz-document url-prefix("about:"){

  /* accent color */
  :root, panel, dialog, window {
    --in-content-accent-color: var(--shy-color) !important;
    --toolbar-field-focus-border-color: var(--shy-color) !important;
    --color-accent-primary: var(--shy-color) !important;
    --color-accent-primary-hover: var(--shy-color) !important;
    --color-accent-primary-active: var(--shy-color) !important;
    --toolbarbutton-icon-fill-attention: var(--shy-color) !important;
    --focus-outline-color: var(--shy-color) !important;
    --lwt-toolbarbutton-icon-fill-attention: var(--shy-color) !important;
    --button-primary-bgcolor: var(--shy-color) !important;
    --button-primary-hover-bgcolor: var(--shy-color) !important;
    --button-primary-active-bgcolor: var(--shy-color) !important;
    --in-content-primary-button-background: var(--shy-color) !important;
    --in-content-primary-button-background-hover: var(--shy-color) !important;
    --in-content-primary-button-background-active: var(--shy-color) !important;
    --input-border-color: var(--shy-color) !important;
    --uc-checkbox-checked-bgcolor: var(--shy-color) !important;
    --checkbox-checked-bgcolor: var(--shy-color) !important;
    --focus-outline-color: var(--shy-color) !important;
    --in-content-link-color: var(--shy-color) !important;
    --fxview-primary-action-background: var(--shy-color) !important;
  }
  
  moz-message-bar {background-color: var(--in-content-button-background) !important;}
  .cpu {background: linear-gradient(to left, var(--shy-color) calc(var(--bar-width) * 1%), transparent calc(var(--bar-width) * 1%)) !important;}
  button[role="tab"][selected]::before {display: none !important;}
  
  /* rounded corners */
  .category,
  .sidebar-footer-link,
  .info-box-container,
  .sidebar-item--tall,
  .web-appearance-choice,
  moz-message-bar,
  panel-list,
  tree,
  table,
  select,
  .qr-code-box,
  .card,
  section,
  details,
  body[dir],
  .action-box, 
  .info-box,
  #ping-picker,
  #translations-manage-install-list
  {border-radius: var(--big-rounding) !important;}
  
  button:not(:is([class*="devtools"], [class*="tab"], [class*="search"])),
  menulist,
  input,
  search-textbox,
  .search-container,
  a, span
  {border-radius: var(--rounding) !important;}
  
  .card-heading-image{
    border-top-left-radius: var(--big-rounding) !important;
    border-top-right-radius: var(--big-rounding) !important;
  }
  
  listheader{
    border-top-left-radius: var(--rounding) !important;
    border-top-right-radius: var(--rounding) !important;
  }
  richlistbox{
    border-bottom-left-radius: var(--rounding) !important;
    border-bottom-right-radius: var(--rounding) !important;
  }
}
